type: collection.insomnia.rest/5.0
name: Insurance API
meta:
  id: wrk_80973b0a1ab9414b97a3bbf7585d528e
  created: 1758504430671
  modified: 1758504430671
  description: ""
collection:
  - name: Policies
    meta:
      id: fld_3b606f530b0d4910b62c36d6a010a5f4
      created: 0
      modified: 0
      sortKey: -1758504430680
      description: ""
    children:
      - url: http://localhost:8081/policies/4161fb88-fe27-4cc2-8b29-29761b1d737a
        name: Consultar Apólice
        meta:
          id: req_7156fc1b718740a68f4e32bb579d527e
          created: 0
          modified: 1758565842002
          isPrivate: false
          description: Consulta uma apólice pelo id. Substitua :id pelo id desejado.
          sortKey: 300
        method: GET
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: http://localhost:8081/policies/15ece993-77e6-42e7-af75-071938f07438/validate
        name: Validar Apólice (Fraude)
        meta:
          id: req_a5c75a53e5d74cb79068908e8f5249bc
          created: 0
          modified: 1758565840817
          isPrivate: false
          description: Valida a apólice (simula resposta da API de fraude). Substitua :id
            pelo id retornado na criação.
          sortKey: 200
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "orderId": "15ece993-77e6-42e7-af75-071938f07438",
              "customerId": "adc56d77-348c-4bf0-908f-22d402ee715c",
              "analyzedAt": "2025-09-21T23:30:00Z",
              "classification": "HIGH_RISK",
              "occurrences": []
            }
        headers:
          - name: Content-Type
            value: application/json
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: http://localhost:8081/policies
        name: Criar Apólice
        meta:
          id: req_b29e29d33e62477981a19672e27b0ba0
          created: 0
          modified: 1758565843336
          isPrivate: false
          description: Cria uma nova solicitação de apólice.
          sortKey: 100
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "customer_id": "adc56d77-348c-4bf0-908f-22d402ee715c",
              "product_id": "1b2da7cc-b367-4196-8a78-9cfeec21f587",
              "category": "AUTO",
              "salesChannel": "MOBILE",
              "paymentMethod": "CREDIT_CARD",
              "total_monthly_premium_amount": 75.25,
              "insured_amount": 275000.50,
              "coverages": {
                "Roubo": 100000.25,
                "Perda Total": 100000.25,
                "Colisão com Terceiros": 75000.00
              },
              "assistances": [
                "Guincho até 250km",
                "Troca de Óleo",
                "Chaveiro 24h"
              ]
            }
        headers:
          - name: Content-Type
            value: application/json
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_c8d78e0b2a72869f37da20dd0754309c3f9f618b
    created: 1758504430688
    modified: 1758504430688
environments:
  name: Base Environment
  meta:
    id: env_434e8cb24ba945f6afb5d5f9cc3688c3
    created: 0
    modified: 0
    isPrivate: false
  data:
    base_url: http://localhost:8080
